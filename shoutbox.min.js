var shoutBox=function(){function o(){var o=["Small","Blue","Fatty","Pink"],e=["Bear","Potato","Banana","Kiwi"],s=Math.floor(Math.random()*o.length),t=Math.floor(Math.random()*e.length);return o[s]+e[t]}function e(){return void 0===$rootScope.appConfig||$rootScope.appConfig.loggedIn===!1?(setTimeout(function(){e()},5e3),!1):(console.log("shoutBox module loaded"),void $(function(){$(".shoutbox").show(),$(".shoutbox__header").on("click",function(o){var e=$(".shoutbox__body").css("display");$(".shoutbox__body").slideToggle(200),"block"==e?$(".shoutbox__header i").attr("class","icon-circle-arrow-up"):$(".shoutbox__header i").attr("class","icon-circle-arrow-down")}),$("#shoutbox__new_message").keypress(function(o){if(13==o.which){var e=$(this).val();t(e),$(this).val("")}}),a=$rootScope.appConfig.login||o()}))}function s(o,e){var s=(new Date).toLocaleTimeString().toString();$(".shoutbox__messages").append('<div class="shoutbox__message"><span class="time">'+s+'</span><span class="name">'+o+"</span>"+e+"</div>").children(":last").hide().fadeIn();var t=$(".shoutbox__messages")[0].scrollHeight;$(".shoutbox__messages").scrollTop(t)}function t(o){s(a,o),Notification.broadcastToOtherSessions("shoutbox-receive-message",{from:a,message:o})}var a="Unknown";return Notification.registerEvent("shoutbox-receive-message",function(o,e){console.log(e),s(e.from,e.message)}),{init:e}}();shoutBox.init();
